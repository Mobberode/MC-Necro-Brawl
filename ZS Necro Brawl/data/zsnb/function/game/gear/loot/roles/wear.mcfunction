$item replace entity @s armor.head with iron_helmet[trim={pattern:$(pattern),material:$(material)},unbreakable={},enchantments={protection:2}]
$item replace entity @s armor.chest with iron_chestplate[trim={pattern:$(pattern),material:$(material)},unbreakable={},enchantments={protection:2}]
$item replace entity @s armor.legs with iron_leggings[trim={pattern:$(pattern),material:$(material)},unbreakable={},enchantments={protection:2}]
$item replace entity @s armor.feet with iron_boots[trim={pattern:$(pattern),material:$(material)},unbreakable={},enchantments={protection:2}]

data remove storage zsnb.macro roles